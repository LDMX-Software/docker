# Development Container for ldmx-sw

<p align="center">
    <a href="http://perso.crans.org/besson/LICENSE.html" alt="GPLv3 license">
        <img src="https://img.shields.io/badge/License-GPLv3-blue.svg" />
    </a>
    <a href="https://github.com/LDMX-Software/docker/actions" alt="Actions">
        <img src="https://github.com/LDMX-Software/docker/workflows/CI/badge.svg" />
    </a>
    <a href="https://hub.docker.com/r/ldmx/dev" alt="DockerHub">
        <img src="https://img.shields.io/github/v/release/LDMX-Software/docker" />
    </a>
</p>

Docker build context for developing and running ldmx-sw: [Docker Hub](https://hub.docker.com/repository/docker/ldmx/dev)

There is a corresponding workflow in [ldmx-sw](https://github.com/LDMX-Software/ldmx-sw) that generates a [production docker container](https://hub.docker.com/repository/docker/ldmx/pro) using the container generated by this build context as a base image.
This production container already has ldmx-sw built and installed on it and assumes the user wants to run the application.

### Use in ldmx-sw

In _ldmx-sw_, an [environment script](https://github.com/LDMX-Software/ldmx-sw/blob/master/scripts/ldmx-env.sh) is defined in `bash` to setup the environment for both `docker` and `singularity` correctly.
A description of this setup process is given for both [docker](docs/use_with_docker.md) and [singularity](docs/use_with_singularity.md) if you desire more information.

## Current Container Configuration

Software Package | Version | Construction Process
---|---|---
[Ubuntu Server](https://ubuntu.com/) | 22.04 | Base Image
[Python](https://www.python.org/) | 3.10.6 | From Ubuntu Repos
[cmake](https://cmake.org/) | 3.22.1 | From Ubuntu Repos
[Boost](https://www.boost.org/doc/libs/1_74_0/) | 1.74.0 | From Ubuntu Repos
[XercesC](http://xerces.apache.org/xerces-c/) | 3.2.4 | Built from source
[Pythia6](https://pythia.org/pythia6/) | 6.428 | Built from source
[ROOT](https://root.cern.ch/) | 6.22/08 | Built from source
[Geant4](https://geant4.web.cern.ch/node/1) | [LDMX.10.2.3\_v0.5](https://github.com/LDMX-Software/geant4/tree/LDMX.10.2.3_v0.5) | Built from source
[Eigen](https://eigen.tuxfamily.org/index.php?title=Main_Page) | 3.4.0 | Built from source
[LHAPDF](https://lhapdf.hepforge.org/) | 6.5.3 | Built from source
[GENIE](http://www.genie-mc.org/) | 3.02.00 | Built from source
[Catch2](https://github.com/catchorg/Catch2) | 3.3.1 | Built from source
[ONNX Runtime](https://github.com/microsoft/onnxruntime) | 1.15.0 | Download pre-built binaries

A detailed list of all packages installed from ubuntu repositories is given [here](docs/ubuntu-packages.md),
and documentation on the workflow and runner used to build the image is [here](docs/runner.md).

### Python Packages for Analyses
Installed in Python 3.
- pip 
- Cython
- numpy
- uproot
- matplotlib
- xgboost
- sklearn

### Other Configuration
- SSL Certificates that will be trusted by container are in the `certs` directory

## Other Packages
If you would like another package included in the development container, please open an issue in this repository.

